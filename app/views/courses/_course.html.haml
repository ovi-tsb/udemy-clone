.col
  .card
    .card-body
      .card-title
        .fa.fa-graduation-cap
        = link_to course.title, course_path(course)
      .card-text
        = simple_format(course.short_description)
    / .card-footer
    /   .row
    /     .col-md-6
    /       .text
    /         .fa.fa-globe-africa
    /         = course.language
    /     .col-md-6
    /       .text-right
    /         .fa.fa-signal
    /         = course.level
    .card-footer
      .text-center
        / = number_to_currency(course.price)
        = enrollment_button(course)
        %br
        = review_button(course)
    .card-footer
      .text-warning.fa.fa-star
      = course.average_rating
      (
      .fa.fa-graduation-cap
      
      = course.enrollments_count
      )
      .fa.fa-book
      = course.lessons_count
      .float-end
        .fa.fa-chalkboard-teacher
        = link_to course.user.username, user_path(course.user)
    / .card-footer
      
    / .card-footer
    /   .row
    /     .col-md-6
    /       .text
    /         .far.fa-clock
    /         = course.created_at.strftime('%d-%b-%Y')
    /     .col-md-6
    /       .text-right.float-end
            
    - if user_signed_in?
      - if policy(course).edit?
        .card-footer
          %p
          - if policy(course).owner?
            = link_to 'Add lesson', new_course_lesson_path(course, @lesson), class: "btn btn-sm btn-primary"
   
          / = link_to 'Show', course, class: 'btn btn-sm btn-primary'
          = link_to 'Edit', edit_course_path(course), class: 'btn btn-sm btn-warning'
          = link_to 'Delete', course, data: { turbo_method: :delete, turbo_confirm: "Are you sure?"}, class: 'btn btn-sm btn-danger'
          / = link_to 'New Lesson', new_lesson_path(@lesson), class: 'btn btn-sm btn-secondary float-end'
        / = button_to 'Delete', course, method: :delete, form: { data: { turbo_confirm: 'Are you sure?' } }, class: 'btn btn-sm btn-danger'